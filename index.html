<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gmail</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gmail-red: #d93025;
            --gmail-blue: #1a73e8;
            --bg-color: #ffffff;
            --search-bg: #f1f3f4;
            --text-main: #202124;
            --text-sub: #5f6368;
            --sidebar-active-bg: #fce8e6;
            --sidebar-active-text: #d93025;
            --tab-active: #1a73e8;
            --border: #e0e0e0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-color);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* --- Header / Search Bar --- */
        .app-header {
            padding: 8px 16px;
            display: flex;
            align-items: center;
            height: 64px;
            background: white;
            z-index: 10;
        }

        .search-container {
            flex: 1;
            background: var(--search-bg);
            height: 48px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            padding: 0 12px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .menu-btn {
            padding: 8px;
            margin-right: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .search-text {
            flex: 1;
            color: var(--text-sub);
            font-size: 16px;
            margin-left: 8px;
        }

        .profile-icon {
            width: 32px;
            height: 32px;
            background: #7b1fa2;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 500;
            margin-left: 8px;
        }

        /* --- Sidebar / Drawer --- */
        #sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 100;
            display: none;
        }

        #sidebar {
            position: fixed;
            top: 0;
            left: -280px;
            width: 280px;
            height: 100%;
            background: white;
            z-index: 101;
            transition: left 0.3s ease;
            overflow-y: auto;
            padding-top: 8px;
        }

        .sidebar-header {
            padding: 16px 24px;
            font-size: 20px;
            color: var(--gmail-red);
            font-weight: 500;
            border-bottom: 1px solid var(--border);
            margin-bottom: 8px;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 12px 24px;
            color: var(--text-main);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border-radius: 0 25px 25px 0;
            margin-right: 8px;
        }

        .sidebar-item svg {
            margin-right: 24px;
            fill: var(--text-sub);
        }

        .sidebar-item.active {
            background: #fce8e6;
            color: #d93025;
        }

        .sidebar-item.active svg { fill: #d93025; }

        .sidebar-divider {
            height: 1px;
            background: var(--border);
            margin: 8px 0;
        }

        .sidebar-label {
            padding: 16px 24px 8px;
            font-size: 12px;
            color: var(--text-sub);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* --- Tabs --- */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            background: white;
            overflow-x: auto;
            scrollbar-width: none;
        }
        .tabs::-webkit-scrollbar { display: none; }

        .tab {
            flex: 1;
            min-width: 100px;
            text-align: center;
            padding: 14px 0;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-sub);
            position: relative;
            cursor: pointer;
            white-space: nowrap;
        }

        .tab.active { color: var(--gmail-blue); }
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 20%;
            width: 60%;
            height: 3px;
            background: var(--gmail-blue);
            border-radius: 3px 3px 0 0;
        }

        /* --- Email List --- */
        .email-list {
            flex: 1;
            overflow-y: auto;
            background: white;
        }

        .email-item {
            display: flex;
            padding: 12px 16px;
            border-bottom: 1px solid #f1f1f1;
            cursor: pointer;
            position: relative;
        }

        .email-item.unread { background: #f2f6fc; }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e8eaed;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            font-size: 18px;
            margin-right: 16px;
            flex-shrink: 0;
        }

        .email-body-preview {
            flex: 1;
            min-width: 0;
        }

        .email-line-1 {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2px;
        }

        .sender-name {
            font-size: 16px;
            color: var(--text-main);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-weight: 400;
        }

        .unread .sender-name { font-weight: 700; }

        .email-date {
            font-size: 12px;
            color: var(--text-sub);
            font-weight: 400;
        }

        .unread .email-date { color: var(--gmail-blue); font-weight: 700; }

        .subject {
            font-size: 14px;
            color: var(--text-main);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
        }

        .unread .subject { font-weight: 700; }

        .snippet {
            font-size: 14px;
            color: var(--text-sub);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .star-box {
            position: absolute;
            right: 16px;
            bottom: 12px;
            color: #c4c7c5;
        }

        .star-box.active { color: #f4b400; }

        /* --- Detail View --- */
        #detail-view {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 200;
            display: none;
            flex-direction: column;
        }

        .detail-header {
            height: 56px;
            display: flex;
            align-items: center;
            padding: 0 8px;
            border-bottom: 1px solid var(--border);
        }

        .detail-scroll {
            flex: 1;
            overflow-y: auto;
            padding: 20px 16px;
        }

        .detail-subject {
            font-size: 20px;
            color: var(--text-main);
            margin-bottom: 24px;
            line-height: 1.4;
        }

        .detail-meta {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .detail-sender-info {
            flex: 1;
            margin-left: 12px;
        }

        .detail-body {
            font-size: 16px;
            line-height: 1.6;
            color: #3c4043;
            white-space: pre-wrap;
        }

        /* --- FAB --- */
        .compose-fab {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: #c2e7ff;
            height: 56px;
            padding: 0 20px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            font-weight: 500;
            color: #001d35;
            z-index: 50;
        }

        .compose-fab svg { margin-right: 12px; }

        /* --- Compose Modal --- */
        #compose-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            text-align: center;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.4);
            z-index: 999;
        }
    </style>
</head>
<body>

    <!-- App Header -->
    <div class="app-header">
        <div class="search-container">
            <div class="menu-btn" onclick="toggleSidebar(true)">
                <svg width="24" height="24" viewBox="0 0 24 24"><path fill="#5f6368" d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
            </div>
            <div class="search-text">Search in mail</div>
            <div class="profile-icon">N</div>
        </div>
    </div>

    <!-- Category Tabs -->
    <div class="tabs">
        <div class="tab active" onclick="setCategory('primary', this)">Primary</div>
        <div class="tab" onclick="setCategory('social', this)">Social</div>
        <div class="tab" onclick="setCategory('promotions', this)">Promotions</div>
        <div class="tab" onclick="setCategory('updates', this)">Updates</div>
    </div>

    <!-- Email List -->
    <div class="email-list" id="email-list">
        <!-- JS Injection -->
    </div>

    <!-- Compose FAB -->
    <div class="compose-fab" onclick="showCompose()">
        <svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M20.41 4.94l-1.35-1.35c-.78-.78-2.05-.78-2.83 0L13.4 6.41 3 16.82V21h4.18l10.41-10.41 2.82-2.82c.78-.78.78-2.05 0-2.83zm-14.15 14.1l-1.26-1.26 1.1-1.1 1.26 1.26-1.1 1.1zm1.14-1.14L6.14 16.64 16.55 6.23l1.26 1.26L7.4 16.67z"/></svg>
        Compose
    </div>

    <!-- Sidebar Drawer -->
    <div id="sidebar-overlay" onclick="toggleSidebar(false)"></div>
    <div id="sidebar">
        <div class="sidebar-header">Gmail</div>
        <div class="sidebar-item active">
            <svg width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"/></svg>
            All Inboxes
        </div>
        <div class="sidebar-divider"></div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>Starred</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 14.24l-5.24-3.24V7h1.5v5.25l4.5 2.67-.76 1.32z"/></svg>Snoozed</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>Important</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>Sent</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>Drafts</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm1 10h3l-4-4-4 4h3v4h2v-4z"/></svg>All Mail</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>Spam</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>Trash</div>
        <div class="sidebar-divider"></div>
        <div class="sidebar-label">Google Apps</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/></svg>Calendar</div>
        <div class="sidebar-item"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>Contacts</div>
    </div>

    <!-- Detail View -->
    <div id="detail-view">
        <div class="detail-header">
            <div class="menu-btn" onclick="closeDetail()">
                <svg width="24" height="24" viewBox="0 0 24 24"><path fill="#5f6368" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
            </div>
        </div>
        <div class="detail-scroll">
            <div class="detail-subject" id="det-sub"></div>
            <div class="detail-meta">
                <div class="avatar" id="det-avatar" style="background:#f44336">N</div>
                <div class="detail-sender-info">
                    <div style="font-weight:700" id="det-name"></div>
                    <div style="font-size:12px; color:var(--text-sub)">to me ‚ñæ</div>
                </div>
                <div style="font-size:12px; color:var(--text-sub)" id="det-date"></div>
            </div>
            <div class="detail-body" id="det-body"></div>
        </div>
    </div>

    <!-- Compose Modal -->
    <div class="modal-overlay" id="modal-overlay" onclick="hideCompose()"></div>
    <div id="compose-modal">
        <p>You can‚Äôt compose anything better than what you already have ‚ù§</p>
        <button onclick="hideCompose()" style="margin-top:20px; padding:10px 20px; border:none; background:var(--gmail-blue); color:white; border-radius:5px;">Close</button>
    </div>

    <script>
        const emails = [
            // PRIMARY (15)
            { id: 1, cat: 'primary', sender: 'Niv, Future Husband', sub: '2083km and counting...', date: 'Feb 14', unread: true, star: true, body: "Happy Valentine's Day, sweetheart.\n\nThey say 2083km is a long way, but it feels like nothing when I'm listening to your voice on call. I was looking at that screenshot from our one and only FaceTime today‚Äîyou have the most legendary eyes, Aaradhya. And that mole on your forehead? My favorite thing in the world.\n\nI love how resilient and driven you are, even when you have way too many responsibilities. I'm so proud of you. Let's close this distance soon.\n\nForever yours,\nDhoklu" },
            { id: 2, cat: 'primary', sender: 'Niv ‚ù§Ô∏è', sub: 'The "I like you so much" era', date: 'Feb 14', unread: true, star: false, body: "Remember when we used to say 'I like you so much' because we weren't official yet? We both knew, though. I knew the second you replied to my DM slide.\n\nI love you, Aaradhya." },
            { id: 3, cat: 'primary', sender: 'Niv (dhoklu)', sub: 'Laundry and Groceries', date: 'Feb 13', unread: false, star: true, body: "I was thinking about our future home today. Imagine us doing laundry together and then arguing over what to buy at the grocery store. \n\nStitch will be there, and then we'll finally adopt Ivy, Jackie, and Wilson. That domestic life is all I want with you." },
            { id: 4, cat: 'primary', sender: 'Niv ‚ù§Ô∏è', sub: 'The Lipstick Tutorial incident', date: 'Feb 12', unread: false, star: false, body: "I still can't believe you walked me through your entire lipstick routine step-by-step on a call. You were so focused and I was just sitting there completely mesmerized by your lips.\n\nYou're so creative, my love." },
            { id: 5, cat: 'primary', sender: 'Niv', sub: 'Your Biology Yapping', date: 'Feb 11', unread: false, star: false, body: "Please never stop yapping about biology. I love how your voice gets all excited when you explain things. You're so determined and smart, it's actually the hottest thing ever." },
            { id: 6, cat: 'primary', sender: 'Niv ‚ù§Ô∏è', sub: 'The Christmas Nail Clippers', date: 'Feb 10', unread: false, star: true, body: "I'm still using the nail clipper kit! Best Christmas gift ever, mostly because you actually remembered me joking about not having one. You pay so much attention to the little things." },
            { id: 7, cat: 'primary', sender: 'Niv', sub: 'Murdle & Puzzles', date: 'Feb 9', unread: false, star: false, body: "Solving some Murdle today and thinking of you. Thank you for gifting it to me. You know me better than I know myself." },
            { id: 8, cat: 'primary', sender: 'Niv ‚ù§Ô∏è', sub: 'Tracking your flights', date: 'Feb 8', unread: false, star: false, body: "I spend way too much time tracking random flights just because they're heading near you. Counting down the days until I'm tracking the flight that brings us together for real." },
            { id: 9, cat: 'primary', sender: 'Niv', sub: 'Harry Potter or Gilmore Girls?', date: 'Feb 7', unread: false, star: false, body: "Which one are we marathoning first? I'm ready to be your Lorelai or your Ron Weasley. I'll bring the momos and wai wai." },
            { id: 10, cat: 'primary', sender: 'Niv ‚ù§Ô∏è', sub: 'The Favorite Pen', date: 'Feb 6', unread: false, star: false, body: "I saw a pen today and remembered it's your favorite brand. I remember everything you tell me, sweetheart. Every little detail." },
            { id: 11, cat: 'primary', sender: 'Niv', sub: '3am Thoughts', date: 'Feb 5', unread: false, star: false, body: "Just thinking about your hair and how much I want to be there while you're doing your makeup. You're the most beautiful extrovert I've ever met." },
            { id: 12, cat: 'primary', sender: 'Niv ‚ù§Ô∏è', sub: 'Your Resilience', date: 'Feb 14', unread: true, star: true, body: "I know you handle a lot. You manage it all so perfectly. Just wanted to say I see you, I appreciate you, and I'm always here to listen to you yap." },
            { id: 13, cat: 'primary', sender: 'Niv', sub: 'DM Slide Anniversary', date: 'Feb 13', unread: false, star: false, body: "Eight months ago I took a chance and sent that DM. Best decision of my life. I'm so glad you replied, Aaradhya." },
            { id: 14, cat: 'primary', sender: 'Niv ‚ù§Ô∏è', sub: 'Domestic Dreams', date: 'Feb 12', unread: false, star: false, body: "Can't wait to wake up, feed Stitch, and then go grocery shopping with you. It sounds boring to most people, but with you, it's my dream." },
            { id: 15, cat: 'primary', sender: 'Niv, Future Husband', sub: 'I love you', date: 'Feb 11', unread: false, star: true, body: "That's it. That's the email. I love you more than words can describe." },

            // PROMOTIONS (20 Funny Spam)
            { id: 16, cat: 'promotions', sender: 'Momo Deals', sub: 'üî• 50% OFF: Unlimited Cuddles Sale!', date: 'Feb 14', unread: true, star: false, body: "LIMITED TIME OFFER: Get 100% off physical distance when Niv arrives. Terms: Must provide momos on arrival." },
            { id: 17, cat: 'promotions', sender: 'Stitch & Co.', sub: 'Urgent: Dad is being boring', date: 'Feb 13', unread: false, star: false, body: "Mom, please come home soon. Dad just stares at his phone and smiles at pictures of you. It's weird. - Stitch" },
            { id: 18, cat: 'promotions', sender: 'Wai Wai World', sub: 'Your "Dhoklu" special is ready', date: 'Feb 12', unread: false, star: false, body: "Special order for Aaradhya: One (1) lifetime of devotion and unlimited book gifts. Status: Processing." },
            { id: 19, cat: 'promotions', sender: 'Lipstick VIP', sub: 'Tutorial Request: The Routine', date: 'Feb 11', unread: false, star: false, body: "Niv is requesting a repeat of the lipstick tutorial. He wasn't paying attention to the colors, just you." },
            { id: 20, cat: 'promotions', sender: 'Flight Tracker', sub: 'Alert: Missing Person detected', date: 'Feb 10', unread: false, star: false, body: "System alert: Niv is missing Aaradhya. Current distance 2083km is exceeding safe limits. Please FaceTime immediately." },
            { id: 21, cat: 'promotions', sender: 'Biology News', sub: 'New Discovery: Your Voice', date: 'Feb 9', unread: false, star: false, body: "Recent studies show that hearing you yap about biology for 10 minutes cures 100% of Niv's stress." },
            { id: 22, cat: 'promotions', sender: 'Future Cat Agency', sub: 'Update on Ivy, Jackie & Wilson', date: 'Feb 8', unread: false, star: false, body: "Your future cats are currently in the 'waiting for mom and dad to live together' phase. Please hold." },
            { id: 23, cat: 'promotions', sender: 'Domestic Bliss', sub: 'Laundry Day: Pre-order now', date: 'Feb 7', unread: false, star: false, body: "Reserve your slot to do laundry with Niv. Benefits include: Shared chores and dancing in the kitchen." },
            { id: 24, cat: 'promotions', sender: 'The Pen Shop', sub: 'Reserved: Your favorite pen', date: 'Feb 6', unread: false, star: false, body: "Because Niv actually pays attention. We have a lifetime supply for you." },
            { id: 25, cat: 'promotions', sender: 'Book Worms', sub: 'New Gift: The one he remembered', date: 'Feb 5', unread: false, star: false, body: "Another book is on its way. Niv loves how much you read. Stay creative, sweetheart." },
            { id: 26, cat: 'promotions', sender: 'Murdle Masters', sub: 'Case Solved: The Best Girlfriend', date: 'Feb 14', unread: true, star: false, body: "The evidence is in: The mole, the eyes, the resilience. It's you. Case closed." },
            { id: 27, cat: 'promotions', sender: 'Hogwarts Express', sub: 'Platform 9 3/4: Your Ticket', date: 'Feb 13', unread: false, star: false, body: "One way ticket to a future with Niv. No owls needed, just a flight tracker." },
            { id: 28, cat: 'promotions', sender: 'Gilmore Girls Fans', sub: 'You're the Lorelai to my... well, I'm just here for the coffee.', date: 'Feb 12', unread: false, star: false, body: "Coffee? Coffee! Coffee! Let's watch it together soon." },
            { id: 29, cat: 'promotions', sender: 'Resilience Weekly', sub: 'Cover Story: How she does it all', date: 'Feb 11', unread: false, star: false, body: "Aaradhya manages everything perfectly. We don't know how, but Niv is her #1 fan." },
            { id: 30, cat: 'promotions', sender: 'Momo King', sub: 'Order Status: Claimed by Dhoklu', date: 'Feb 10', unread: false, star: false, body: "Your heart has been permanently claimed. No refunds possible." },
            { id: 31, cat: 'promotions', sender: 'Grocery Pro', sub: 'Shared Cart: Momos & Wai Wai', date: 'Feb 9', unread: false, star: false, body: "Ready for our first grocery trip. Can't wait to walk the aisles with you." },
            { id: 32, cat: 'promotions', sender: 'Cat Mom VIP', sub: 'Welcome to the club', date: 'Feb 8', unread: false, star: false, body: "Stitch, Ivy, Jackie, and Wilson are lucky to have you as their mom." },
            { id: 33, cat: 'promotions', sender: 'Nail Kit Daily', sub: 'Special Delivery: Remembrance', date: 'Feb 7', unread: false, star: false, body: "Because Niv never forgets the gifts you gave him. Especially the practical ones." },
            { id: 34, cat: 'promotions', sender: 'Introvert Support', sub: 'You found your match!', date: 'Feb 6', unread: false, star: false, body: "Niv is happy being the listener while you yap. It's a perfect balance." },
            { id: 35, cat: 'promotions', sender: 'Long Distance Pros', sub: 'Eliminating 2083km...', date: 'Feb 5', unread: false, star: false, body: "Service currently in progress. Estimated time: As soon as we can." },

            // SOCIAL (10 Notifications)
            { id: 36, cat: 'social', sender: 'Niv', sub: 'Niv liked your existence ‚ú®', date: 'Feb 14', unread: true, star: false, body: "Notification: Niv just realized again how lucky he is to have you." },
            { id: 37, cat: 'social', sender: 'Niv', sub: 'Niv commented on your smile: "Perfect"', date: 'Feb 13', unread: false, star: false, body: "He's still thinking about that one FaceTime. You should call him." },
            { id: 38, cat: 'social', sender: 'Niv', sub: 'You appeared in Niv's mind 47 times today', date: 'Feb 12', unread: true, star: false, body: "New record! He's currently obsessed with your latest voice note." },
            { id: 39, cat: 'social', sender: 'Niv', sub: 'Niv tagged you in a thought: "She's so driven"', date: 'Feb 11', unread: false, star: false, body: "He's so proud of how you manage everything. Truly." },
            { id: 40, cat: 'social', sender: 'Niv', sub: 'New Memory: That DM Slide', date: 'Feb 10', unread: false, star: false, body: "8 months ago you replied. Best notification he ever got." },
            { id: 41, cat: 'social', sender: 'Niv', sub: 'Niv reacted ‚ù§Ô∏è to: everything about you', date: 'Feb 9', unread: false, star: false, body: "No exceptions. Every little detail." },
            { id: 42, cat: 'social', sender: 'Niv', sub: 'Niv sent you a memory: One FaceTime', date: 'Feb 8', unread: false, star: false, body: "Legendary moment. Let's do it again soon?" },
            { id: 43, cat: 'social', sender: 'Niv', sub: 'Niv is obsessed with your voice', date: 'Feb 7', unread: false, star: false, body: "He's listening to your voice notes on repeat. It's his favorite podcast." },
            { id: 44, cat: 'social', sender: 'Niv', sub: 'Niv shared a post: why she's the best', date: 'Feb 6', unread: false, star: false, body: "It's a long list. It includes biology facts and HP trivia." },
            { id: 45, cat: 'social', sender: 'Niv', sub: 'Niv added you to: My World', date: 'Feb 5', unread: false, star: false, body: "You've been the permanent resident for 8 months now." }
        ];

        // Generate 30 UPDATES emails
        for(let i=1; i<=30; i++) {
            emails.push({
                id: 45 + i,
                cat: 'updates',
                sender: 'Dhoklu Alert',
                sub: `Daily Reminder #${i}: You're beautiful ‚ú®`,
                date: 'Feb 12',
                unread: i > 25,
                star: false,
                body: "This is an automated (but very romantic) reminder that Niv is thinking about you. \n\nHe misses your voice, your hair, and especially that mole on your forehead. \n\nI love you!"
            });
        }

        let currentCategory = 'primary';

        function renderEmails() {
            const list = document.getElementById('email-list');
            list.innerHTML = '';
            
            const filtered = emails.filter(e => e.cat === currentCategory).sort((a,b) => b.id - a.id);
            
            filtered.forEach(e => {
                const item = document.createElement('div');
                item.className = `email-item ${e.unread ? 'unread' : ''}`;
                item.onclick = () => openEmail(e);
                
                const avatarColor = getAvatarColor(e.sender);
                
                item.innerHTML = `
                    <div class="avatar" style="background:${avatarColor}">${e.sender[0]}</div>
                    <div class="email-body-preview">
                        <div class="email-line-1">
                            <span class="sender-name">${e.sender}</span>
                            <span class="email-date">${e.date}</span>
                        </div>
                        <span class="subject">${e.sub}</span>
                        <div class="snippet">${e.body.substring(0, 40)}...</div>
                    </div>
                    <div class="star-box ${e.star ? 'active' : ''}">
                        ${e.star ? '‚òÖ' : '‚òÜ'}
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function getAvatarColor(name) {
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#009688'];
            let hash = 0;
            for (let i = 0; i < name.length; i++) {
                hash = name.charCodeAt(i) + ((hash << 5) - hash);
            }
            return colors[Math.abs(hash) % colors.length];
        }

        function setCategory(cat, el) {
            currentCategory = cat;
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            renderEmails();
        }

        function openEmail(e) {
            e.unread = false;
            document.getElementById('det-sub').innerText = e.sub;
            document.getElementById('det-name').innerText = e.sender;
            document.getElementById('det-date').innerText = e.date + ' (10 hours ago)';
            document.getElementById('det-body').innerText = e.body;
            document.getElementById('det-avatar').innerText = e.sender[0];
            document.getElementById('det-avatar').style.background = getAvatarColor(e.sender);
            document.getElementById('detail-view').style.display = 'flex';
            renderEmails();
        }

        function closeDetail() {
            document.getElementById('detail-view').style.display = 'none';
        }

        function toggleSidebar(show) {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            if(show) {
                sidebar.style.left = '0';
                overlay.style.display = 'block';
            } else {
                sidebar.style.left = '-280px';
                overlay.style.display = 'none';
            }
        }

        function showCompose() {
            document.getElementById('modal-overlay').style.display = 'block';
            document.getElementById('compose-modal').style.display = 'block';
        }

        function hideCompose() {
            document.getElementById('modal-overlay').style.display = 'none';
            document.getElementById('compose-modal').style.display = 'none';
        }

        // Init
        renderEmails();
    </script>
</body>
</html>