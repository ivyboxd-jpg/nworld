<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Gmail</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Georgia:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #d93025; /* Default Red */
            --active-bg: #fce8e6;     /* Default Red BG */
            --text-primary: #202124;
            --text-secondary: #5f6368;
            --border-color: #e0e0e0;
            --search-bg: #e3e7ed;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
        html, body { width: 100%; height: 100%; overflow: hidden; background: #fff; font-family: 'Roboto', sans-serif; }

        .app-shell { width: 100%; height: 100%; display: flex; flex-direction: column; }

        /* Header */
        .header { 
            padding: 12px 16px; 
            background: #f5f7fa; 
            z-index: 100; 
        }
        
        .search-container {
            height: 56px; 
            background: var(--search-bg); 
            border-radius: 28px;
            display: flex; 
            align-items: center; 
            padding: 0 16px;
        }
        
        .menu-icon { 
            width: 24px; 
            height: 24px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer; 
            margin-right: 12px;
        }
        
        .search-input { 
            flex: 1; 
            font-size: 16px; 
            color: #3c4043; 
            background: transparent;
            border: none;
            outline: none;
            font-family: 'Roboto', sans-serif;
            font-weight: 400; 
        }

        .search-input::placeholder { color: #5f6368; }
        
        .pfp-btn {
            width: 32px; 
            height: 32px; 
            background: #009688; 
            color: white;
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-weight: 500; 
            font-size: 14px; 
            cursor: pointer;
            margin-left: 8px;
        }

        /* Sidebar */
        .sidebar-overlay { 
            position: fixed; 
            inset: 0; 
            background: rgba(0,0,0,0.4); 
            z-index: 200; 
            opacity: 0; 
            visibility: hidden; 
            transition: 0.25s; 
        }
        
        .sidebar-overlay.active { opacity: 1; visibility: visible; }

        .sidebar {
            position: fixed; 
            top: 0; 
            bottom: 0; 
            left: 0; 
            width: 300px;
            background: #fff; 
            z-index: 250; 
            transform: translateX(-100%);
            transition: transform 0.28s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex; 
            flex-direction: column; 
            box-shadow: 2px 0 8px rgba(0,0,0,0.15);
        }
        
        .sidebar.open { transform: translateX(0); }

        .sidebar-header { 
            padding: 20px 24px; 
            display: flex; 
            align-items: center; 
            gap: 14px; 
            border-bottom: 1px solid transparent;
        }
        
        .sidebar-logo { height: 40px; width: auto; }
        .sidebar-logo-text { font-size: 22px; color: #5f6368; font-weight: 400; }

        .nav-list { overflow-y: auto; padding: 8px 0; }
        
        .nav-item {
            height: 48px; 
            display: flex; 
            align-items: center; 
            padding: 0 24px; 
            gap: 24px;
            cursor: pointer; 
            color: var(--text-primary);
            border-radius: 0 24px 24px 0;
            margin-right: 8px;
        }

        .nav-item:hover { background: #f1f3f4; }
        
        .nav-item.active { 
            background: var(--active-bg); 
            color: var(--primary-color);
        }
        
        .icon-svg { width: 24px; height: 24px; fill: #5f6368; }
        .nav-item.active .icon-svg { fill: var(--primary-color); }

        .nav-text { flex: 1; font-size: 14px; font-weight: 500; }
        
        /* Updated badge style - minimal gray number */
        .nav-badge { font-size: 12px; color: #5f6368; font-weight: 500; }
        .nav-item.active .nav-badge { color: var(--primary-color); }

        .divider { height: 1px; background: #e0e0e0; margin: 8px 0; }

        /* Category Label */
        .category-label {
            padding: 16px 16px 8px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            color: #5f6368;
            font-weight: 500;
        }

        /* Email List */
        .email-list-container { 
            flex: 1; 
            overflow-y: auto; 
            background: #fff; 
        }

        .email-item {
            display: flex;
            align-items: flex-start;
            padding: 14px 16px; /* Slightly more padding for cleaner look */
            cursor: pointer;
            background: #fff;
            gap: 16px;
        }

        .email-item:active { background: #f8f9fa; }

        .avatar-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            font-size: 20px;
            color: white;
            flex-shrink: 0;
            text-transform: uppercase;
        }

        .email-content-main {
            flex: 1;
            min-width: 0;
        }

        .email-first-line {
            display: flex;
            align-items: baseline;
            margin-bottom: 2px;
            justify-content: space-between;
        }

        .sender-name {
            font-size: 16px;
            color: #1f1f1f; /* Darker black */
            font-weight: 700;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            flex: 1;
            margin-right: 8px;
        }

        .email-time {
            font-size: 12px;
            color: #5f6368;
            font-weight: 500;
            flex-shrink: 0;
        }

        .subject-line {
            font-size: 14px;
            color: #1f1f1f;
            margin-bottom: 2px;
            font-weight: 700; /* Bolder subject like reference */
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .snippet {
            font-size: 14px;
            color: #5f6368;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .star-icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
            margin-top: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .star-svg {
            width: 20px;
            height: 20px;
            fill: none;
            stroke: #5f6368;
            stroke-width: 2;
            transition: 0.2s;
        }

        .star-svg.starred {
            fill: #f9ab00;
            stroke: #f9ab00;
        }

        /* Email Detail View */
        .email-detail {
            display: none;
            flex-direction: column;
            height: 100%;
            overflow-y: auto;
            background: white;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 150;
        }

        .email-detail.active { display: flex; }

        .detail-header-bar {
            padding: 8px 4px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #fff;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .back-btn, .action-btn {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 50%;
        }
        
        .back-btn:active, .action-btn:active { background: #f1f3f4; }

        /* Artistic Header Image */
        .artistic-header {
            width: 100%;
            height: 180px;
            background-color: #f1f3f4;
            background-size: cover;
            background-position: center;
            /* No margin bottom here to keep subject close */
        }

        .detail-subject-header {
            padding: 20px 16px 12px;
            display: flex;
            align-items: flex-start; /* Aligns star with top line of text */
            justify-content: space-between;
            gap: 12px;
        }

        .subject-container {
            display: flex;
            flex-direction: row; /* Horizontal alignment */
            align-items: baseline; /* Aligns text base */
            flex-wrap: wrap;
            gap: 8px;
            flex: 1;
        }

        .detail-subject-text {
            font-size: 22px;
            font-weight: 400;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .detail-inbox-label {
            padding: 2px 6px;
            background: #e8eaed;
            border-radius: 4px;
            font-size: 11px;
            color: #5f6368;
            font-weight: 500;
            vertical-align: middle;
            display: inline-block;
        }

        .detail-star {
            width: 24px;
            height: 24px;
            margin-top: 4px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .detail-sender-row {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0 16px 16px;
        }

        .sender-avatar-detail {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            font-size: 20px;
            color: white;
            flex-shrink: 0;
        }

        .sender-info-detail { flex: 1; }

        .sender-name-detail {
            font-size: 15px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .sender-to {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .detail-time {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .detail-body {
            padding: 0 16px 100px;
            line-height: 1.6;
            color: #202124;
            font-size: 15px;
            font-family: 'Georgia', serif; /* Artistic/Newsletter font */
        }

        /* Compose FAB */
        .compose-fab {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 56px;
            height: 56px;
            background: #c2e7ff;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 100;
            transition: transform 0.2s;
        }
        
        .compose-fab:active { transform: scale(0.95); }

        .compose-icon {
            width: 24px;
            height: 24px;
            fill: #001d35;
        }

        .view-hidden { display: none; }
        .view-visible { display: flex; flex-direction: column; }
    </style>
</head>
<body>
    <div class="app-shell">
        <div class="sidebar-overlay" id="overlay"></div>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" alt="Gmail" class="sidebar-logo">
                <span class="sidebar-logo-text">Gmail</span>
            </div>
            
            <div class="nav-list">
                <!-- Data attributes for coloring: Green for Promo, Blue for Social, Orange Updates -->
                <div class="nav-item active" data-view="primary" data-color="#d93025" data-bg="#fce8e6">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-7-2h2V7h-4v2h2z"/>
                    </svg>
                    <span class="nav-text">Primary</span>
                    <span class="nav-badge">7</span>
                </div>
                
                <div class="nav-item" data-view="social" data-color="#1a73e8" data-bg="#e8f0fe">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                    </svg>
                    <span class="nav-text">Social</span>
                </div>

                <div class="nav-item" data-view="promotions" data-color="#188038" data-bg="#e6f4ea">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"/>
                    </svg>
                    <span class="nav-text">Promotions</span>
                </div>

                <div class="nav-item" data-view="updates" data-color="#ea8600" data-bg="#feefe3">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                    </svg>
                    <span class="nav-text">Updates</span>
                </div>

                <div class="divider"></div>

                <div class="nav-item" data-view="starred" data-color="#5f6368" data-bg="#f1f3f4">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                    <span class="nav-text">Starred</span>
                </div>

                <div class="nav-item" data-view="important" data-color="#5f6368" data-bg="#f1f3f4">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M12 2l-5.5 9h11z"/>
                        <path d="M12 18.5L18.5 22l-1.5-7.03L22 10.5l-7.19-.61L12 2.5 9.19 9.89 2 10.5l5.46 4.47L6 22z"/>
                    </svg>
                    <span class="nav-text">Important</span>
                    <span class="nav-badge">1</span>
                </div>

                <div class="nav-item" data-view="sent" data-color="#5f6368" data-bg="#f1f3f4">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                    <span class="nav-text">Sent</span>
                </div>
                
                <div class="nav-item" data-view="outbox" data-color="#5f6368" data-bg="#f1f3f4">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                       <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                    </svg>
                    <span class="nav-text">Outbox</span>
                </div>

                <div class="nav-item" data-view="drafts" data-color="#5f6368" data-bg="#f1f3f4">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8v-2H6V4h7v5h5v11h-2v2h2c1.1 0 2-.9 2-2V8l-6-6z"/>
                    </svg>
                    <span class="nav-text">Drafts</span>
                </div>

                <div class="nav-item" data-view="spam" data-color="#5f6368" data-bg="#f1f3f4">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"/>
                    </svg>
                    <span class="nav-text">Spam</span>
                </div>

                <div class="nav-item" data-view="bin" data-color="#5f6368" data-bg="#f1f3f4">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                    </svg>
                    <span class="nav-text">Bin</span>
                </div>
            </div>
        </aside>

        <!-- Header -->
        <header class="header">
            <div class="search-container">
                <div class="menu-icon" id="openMenu">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="#5f6368">
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </div>
                <!-- Functional Search Input -->
                <input type="text" class="search-input" id="searchInput" placeholder="Search in mail">
                <div class="pfp-btn" id="openProfile">S</div>
            </div>
        </header>

        <!-- Content -->
        <main style="flex: 1; overflow-y: auto; position: relative;">
            <!-- All Inboxes View -->
            <div id="allInboxesView" class="view-visible email-list-container">
                <div class="category-label">Primary</div>
                <div id="emailList">
                    <!-- Emails injected via JS -->
                </div>
            </div>

            <!-- Email Detail View -->
            <div id="emailDetailView" class="email-detail">
                <div class="detail-header-bar">
                    <div class="back-btn" onclick="closeEmail()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="#5f6368">
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                        </svg>
                    </div>
                    <div class="detail-actions">
                        <div class="action-btn">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="#5f6368">
                                <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <!-- Artistic Header (injected via JS) -->
                <div id="artisticHeader" class="artistic-header"></div>

                <div class="detail-subject-header">
                    <div class="subject-container">
                        <span class="detail-subject-text" id="detailSubject"></span>
                        <span class="detail-inbox-label">Inbox</span>
                    </div>
                    <div class="detail-star" id="detailStarBtn">
                        <svg class="star-svg" id="detailStarSvg" viewBox="0 0 24 24">
                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                        </svg>
                    </div>
                </div>

                <div class="detail-sender-row">
                    <div class="sender-avatar-detail" id="detailAvatar"></div>
                    <div class="sender-info-detail">
                        <div class="sender-name-detail">
                            <span id="detailSender"></span>
                        </div>
                        <div class="sender-to">to me</div>
                    </div>
                    <div class="detail-time" id="detailTime"></div>
                </div>

                <div class="detail-body" id="detailBody"></div>
            </div>
        </main>

        <!-- Compose FAB -->
        <div class="compose-fab">
            <svg class="compose-icon" viewBox="0 0 24 24">
                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
            </svg>
        </div>
        
        <!-- Bottom Nav removed as requested -->
    </div>

    <script>
        const emails = [
            {
                id: '1',
                sender: 'The Distance Times',
                subject: 'Breaking: Local Man Still 2083km Away, Desperate',
                snippet: 'Top story: Missing continues indefinitely. Experts baffled by...',
                time: 'Feb 14',
                avatar: 'DT',
                color: '#607d8b',
                starred: true,
                artImage: 'https://images.unsplash.com/photo-1585829365295-ab7cd400c167?q=80&w=600&auto=format&fit=crop',
                body: `
                    <div style="text-align: center; border-bottom: 3px double #000; margin-bottom: 24px; padding-bottom: 16px;">
                        <h1 style="font-family: 'Georgia', serif; font-size: 28px; margin: 0;">THE DISTANCE TIMES</h1>
                        <p style="font-style: italic; color: #666; font-size: 12px; margin-top: 8px;">All The News That's Fit To Miss You Over</p>
                    </div>
                    <h2 style="font-family: 'Georgia', serif; font-size: 24px; line-height: 1.3; margin-bottom: 12px;">Breaking: Local Man Still 2083 Kilometers From Girlfriend, Friends Report "He Won't Shut Up"</h2>
                    <p style="font-style: italic; color: #555; font-size: 13px; margin-bottom: 20px;">By The Editorial Board • February 14, 2026</p>
                    
                    <p style="margin-bottom: 16px;">In what experts are calling "an absolutely ridiculous situation that needs to end immediately," local future husband Niv remains separated from his girlfriend Aaradhya by approximately 2,083 kilometers.</p>
                    <p style="margin-bottom: 16px;">Witnesses state that the subject has spent the last 48 hours checking flight prices and staring longingly at photos of the moon, claiming "it looks the same where she is."</p>
                    <p style="margin-bottom: 16px;">"It is mathematically impossible to miss someone this much," stated leading scientist Dr. Heartache. "And yet, here we are."</p>
                `
            },
            {
                id: '2',
                sender: 'Future Husband Enterprises',
                subject: 'Offer Letter: Position of Eternal Girlfriend',
                snippet: 'Dear Aaradhya, We are pleased to extend an offer for the...',
                time: 'Feb 13',
                avatar: 'FH',
                color: '#e91e63',
                starred: false,
                artImage: 'https://images.unsplash.com/photo-1554774853-719586f8c277?q=80&w=600&auto=format&fit=crop',
                body: `
                    <div style="text-align: center; margin-bottom: 32px;">
                        <h2 style="font-size: 18px; letter-spacing: 1px; margin-bottom: 4px;">FUTURE HUSBAND ENTERPRISES</h2>
                        <p style="font-size: 11px; color: #666; font-style: italic;">Est. The Moment I Saw You • Headquarters: My Heart</p>
                        <div style="height: 1px; background: #000; margin-top: 16px;"></div>
                    </div>
                    
                    <p style="text-align: right; color: #666; margin-bottom: 24px;">February 13, 2026</p>
                    
                    <p style="margin-bottom: 16px;">Dear Aaradhya,</p>
                    <p style="margin-bottom: 16px;">We are pleased to extend you an offer for the position of Eternal Girlfriend at Future Husband Enterprises, reporting directly to Niv (Chief Executive of Missing You).</p>
                    
                    <h3 style="font-size: 14px; text-transform: uppercase; margin-top: 24px; margin-bottom: 8px; border-bottom: 1px solid #ddd;">Position Details</h3>
                    <ul style="list-style-type: none; padding: 0; margin-bottom: 16px;">
                        <li style="margin-bottom: 8px;">• <strong>Start Date:</strong> Retroactive to day one</li>
                        <li style="margin-bottom: 8px;">• <strong>Duration:</strong> Forever (auto-renewing)</li>
                        <li style="margin-bottom: 8px;">• <strong>Location:</strong> Currently 2083km apart (working to reduce to 0km)</li>
                    </ul>

                    <h3 style="font-size: 14px; text-transform: uppercase; margin-top: 24px; margin-bottom: 8px; border-bottom: 1px solid #ddd;">Compensation Package</h3>
                    <ul style="list-style-type: none; padding: 0; margin-bottom: 24px;">
                        <li>• Unlimited daily compliments</li>
                        <li>• 24/7 "you are beautiful" coverage</li>
                        <li>• Premium forehead kiss benefits</li>
                    </ul>

                    <p style="margin-top: 32px;">Yours eternally,</p>
                    <p style="font-size: 20px; font-family: 'Brush Script MT', cursive; margin: 12px 0;">Niv</p>
                    <p>Chief Executive Officer<br>"2083km is just a number (that I hate)"</p>
                `
            },
            {
                id: '3',
                sender: 'The Love Yorker',
                subject: 'Letter from 2083km: A Meditation on Distance',
                snippet: 'By Niv, Future Husband. On the peculiar mathematics of longing...',
                time: 'Feb 12',
                avatar: 'LY',
                color: '#3f51b5',
                starred: true,
                artImage: 'https://images.unsplash.com/photo-1455390582262-044cdead277a?q=80&w=600&auto=format&fit=crop',
                body: `
                    <div style="text-align: center; margin-bottom: 30px; border-bottom: 1px solid #ccc; padding-bottom: 20px;">
                        <h1 style="font-family: 'Times New Roman', serif; font-size: 32px; letter-spacing: -1px; margin-bottom: 8px;">THE LOVE YORKER</h1>
                        <p style="font-family: sans-serif; font-size: 11px; color: #d93025;">Price $8.99 • February 2026</p>
                    </div>

                    <h2 style="font-family: 'Georgia', serif; font-size: 26px; font-style: italic; margin-bottom: 16px;">Letter from 2083 Kilometers: On the Peculiar Mathematics of Longing</h2>
                    <p style="font-size: 13px; color: #666; margin-bottom: 24px;">By Niv, Future Husband</p>

                    <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">There is a specific kind of arithmetic that occurs when you are in love with someone who exists in a different set of coordinates than you do. Two thousand and eighty-three kilometers, to be precise.</p>
                    
                    <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">It is a number I have become intimately familiar with, the way one might become familiar with a chronic condition or a particularly persistent song stuck in one's head. It is not just a distance; it is a physical weight.</p>

                    <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">I found myself today looking at a map, tracing the line between us, wondering if sheer willpower could bend the screen of my phone until the blue dot of 'Me' touched the red pin of 'You'.</p>

                    <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; font-style: italic; font-size: 12px; color: #666;">
                        Niv is a future husband currently located 2,083 kilometers from his girlfriend, waiting for the gap to close.
                    </div>
                `
            },
            {
                id: '4',
                sender: 'Niv\'s Heart Publications',
                subject: 'Your Weekly "You Are Beautiful" Newsletter',
                snippet: 'This week\'s edition: 47 new reasons why you\'re extraordinary...',
                time: 'Feb 11',
                avatar: 'NH',
                color: '#9c27b0',
                starred: false,
                artImage: 'https://images.unsplash.com/photo-1518621736915-f3b1c41bfd00?q=80&w=600&auto=format&fit=crop',
                body: `
                    <h2 style="color: #9c27b0;">Weekly Digest</h2>
                    <p>Welcome back to your favorite publication.</p>
                    <p><strong>Top Story:</strong> Your smile.</p>
                    <p><strong>Economy:</strong> The value of my happiness skyrockets when you text back.</p>
                    <p><strong>Weather:</strong> Sunny with a high chance of missing you.</p>
                `
            },
            {
                id: '5',
                sender: 'The Romantic Times',
                subject: 'Opinion: Why Aaradhya Deserves Everything',
                snippet: 'An editorial on the subject of your perfection. Studies show...',
                time: 'Feb 10',
                avatar: 'RT',
                color: '#009688',
                starred: false,
                artImage: 'https://images.unsplash.com/photo-1516575150278-77136aed6920?q=80&w=600&auto=format&fit=crop',
                body: `
                    <h3>Editorial Board Decision</h3>
                    <p>After reviewing the evidence (your face, your brain, your laugh), we have concluded that you deserve the world.</p>
                    <p>We are currently looking into logistics on how to gift-wrap the actual planet.</p>
                `
            },
            {
                id: '6',
                sender: 'Niv',
                subject: 'I saw a dog that looked like it missed you too',
                snippet: 'It was sitting by a cafe looking sad. I related heavily.',
                time: 'Feb 09',
                avatar: 'N',
                color: '#795548',
                starred: true,
                artImage: 'https://images.unsplash.com/photo-1543466835-00a7907e9de1?q=80&w=600&auto=format&fit=crop',
                body: `
                    <p>Hey,</p>
                    <p>Just walking down the street. Saw a Golden Retriever sighing deeply at a closed bakery window.</p>
                    <p>It was the perfect metaphor for me being 2083km away from you.</p>
                    <p>Hope you're having a good day. I love you.</p>
                    <p>- Niv</p>
                `
            },
            {
                id: '7',
                sender: 'Niv Notification Service',
                subject: 'Daily Summary: Your Impact on Someone\'s Life',
                snippet: 'Today\'s stats: Made someone smile 47 times, inspired 12 daydreams...',
                time: 'Feb 08',
                avatar: 'NS',
                color: '#1a73e8',
                starred: false,
                artImage: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=600&auto=format&fit=crop',
                body: `
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                        <h2 style="font-size: 18px; margin-bottom: 16px;">Daily Activity Summary</h2>
                        
                        <div style="margin-bottom: 20px;">
                            <h3 style="font-size: 14px; text-transform: uppercase; color: #5f6368; border-bottom: 1px solid #ddd; padding-bottom: 4px;">Your Impact Today</h3>
                            <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #eee;">
                                <span>Made someone smile:</span>
                                <strong>47 times</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #eee;">
                                <span>Inspired daydreams:</span>
                                <strong>12 times</strong>
                            </div>
                             <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                                <span>Mentioned in thoughts:</span>
                                <strong>Continuously</strong>
                            </div>
                        </div>

                        <div>
                            <h3 style="font-size: 14px; text-transform: uppercase; color: #5f6368; border-bottom: 1px solid #ddd; padding-bottom: 4px;">Distance Statistics</h3>
                            <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #eee;">
                                <span>Current separation:</span>
                                <strong>2,083 km</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                                <span>Acceptability rating:</span>
                                <strong style="color: #d93025;">0/10</strong>
                            </div>
                        </div>
                    </div>
                `
            }
        ];

        // Render List
        const emailListContainer = document.getElementById('emailList');
        
        function renderEmails(filterText = '') {
            emailListContainer.innerHTML = '';
            
            const filtered = emails.filter(e => 
                e.sender.toLowerCase().includes(filterText.toLowerCase()) || 
                e.subject.toLowerCase().includes(filterText.toLowerCase())
            );

            filtered.forEach(email => {
                const item = document.createElement('div');
                item.className = 'email-item';
                item.onclick = (e) => {
                    if(!e.target.closest('.star-icon')) openEmail(email.id);
                };

                const starClass = email.starred ? 'starred' : '';

                item.innerHTML = `
                    <div class="avatar-circle" style="background: ${email.color};">${email.avatar}</div>
                    <div class="email-content-main">
                        <div class="email-first-line">
                            <span class="sender-name">${email.sender}</span>
                            <span class="email-time">${email.time}</span>
                        </div>
                        <div class="subject-line">${email.subject}</div>
                        <div class="snippet">${email.snippet}</div>
                    </div>
                    <div class="star-icon" onclick="toggleStar(event, '${email.id}')">
                        <svg class="star-svg ${starClass}" id="star-${email.id}" viewBox="0 0 24 24">
                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                        </svg>
                    </div>
                `;
                emailListContainer.appendChild(item);
            });
        }

        renderEmails();

        // Interaction Logic
        function toggleStar(e, id) {
            e.stopPropagation(); // prevent opening email
            const email = emails.find(x => x.id === id);
            if (email) {
                email.starred = !email.starred;
                renderEmails(document.getElementById('searchInput').value);
                
                // Update detail view star if open
                const detailStar = document.getElementById('detailStarSvg');
                if(detailStar) {
                   if(email.starred) detailStar.classList.add('starred');
                   else detailStar.classList.remove('starred');
                }
            }
        }
        
        // Detail View Star Logic
        document.getElementById('detailStarBtn').onclick = () => {
            const currentSubject = document.getElementById('detailSubject').textContent;
            const email = emails.find(e => e.subject === currentSubject);
            if(email) {
                toggleStar({stopPropagation:()=>{}}, email.id);
            }
        };

        function openEmail(id) {
            const email = emails.find(e => e.id === id);
            if (!email) return;

            document.getElementById('detailSubject').textContent = email.subject;
            document.getElementById('detailSender').textContent = email.sender;
            document.getElementById('detailTime').textContent = email.time;
            
            const avatar = document.getElementById('detailAvatar');
            avatar.textContent = email.avatar;
            avatar.style.background = email.color;
            
            // Set Artistic Header Image
            document.getElementById('artisticHeader').style.backgroundImage = `url('${email.artImage}')`;

            // Star state
            const starSvg = document.getElementById('detailStarSvg');
            if(email.starred) starSvg.classList.add('starred');
            else starSvg.classList.remove('starred');
            
            document.getElementById('detailBody').innerHTML = email.body;
            
            document.getElementById('allInboxesView').classList.remove('view-visible');
            document.getElementById('allInboxesView').classList.add('view-hidden');
            document.getElementById('emailDetailView').classList.add('active');
        }

        function closeEmail() {
            document.getElementById('emailDetailView').classList.remove('active');
            document.getElementById('allInboxesView').classList.remove('view-hidden');
            document.getElementById('allInboxesView').classList.add('view-visible');
        }

        // Search
        document.getElementById('searchInput').addEventListener('input', (e) => {
            renderEmails(e.target.value);
        });

        // Sidebar Toggles
        document.getElementById('openMenu').onclick = () => { 
            document.getElementById('sidebar').classList.add('open'); 
            document.getElementById('overlay').classList.add('active'); 
        };
        
        document.getElementById('overlay').onclick = () => { 
            document.getElementById('sidebar').classList.remove('open'); 
            document.getElementById('overlay').classList.remove('active'); 
        };

        // Navigation & Coloring
        const root = document.documentElement;
        document.querySelectorAll('.nav-item').forEach(item => {
            item.onclick = () => {
                // Remove active class from all
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');

                // Get colors
                const color = item.getAttribute('data-color');
                const bg = item.getAttribute('data-bg');
                
                // Update Variables if color data exists
                if(color && bg) {
                    root.style.setProperty('--primary-color', color);
                    root.style.setProperty('--active-bg', bg);
                }

                // Update label text in list header
                const text = item.querySelector('.nav-text').textContent;
                document.querySelector('.category-label').textContent = text;

                // Close sidebar
                document.getElementById('sidebar').classList.remove('open');
                document.getElementById('overlay').classList.remove('active');
            };
        });
    </script>
</body>
</html>