<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Gmail Mobile</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --gmail-red: #d93025;
            --active-pill-bg: #fce8e6;
            --text-primary: #1f1f1f;
            --text-secondary: #444746;
            --sidebar-bg: #ffffff;
            --search-bg: #ffffff;
            --app-bg: #ffffff;
            --ai-banner-bg: #f0f4f9;
            --google-blue: #1a73e8;
            --icon-gray: #8a8a8a;
        }

        /* Reset & Full Screen */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
        html, body { width: 100%; height: 100%; overflow: hidden; background: #fff; font-family: 'Roboto', -apple-system, sans-serif; }

        .app-shell { width: 100%; height: 100%; display: flex; flex-direction: column; position: relative; }

        /* --- HEADER (Floating Pill) --- */
        .header { padding: 8px 16px; background: transparent; z-index: 100; position: relative; }
        .search-container {
            height: 48px; background: var(--search-bg); border-radius: 24px;
            display: flex; align-items: center; padding: 0 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
        }
        .menu-icon { width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-secondary); }
        .search-text { flex: 1; font-size: 16px; color: var(--text-secondary); padding-left: 8px; font-weight: 400; }
        .pfp-btn {
            width: 32px; height: 32px; background: var(--google-blue); color: white;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-weight: 500; font-size: 14px; margin-right: 4px; cursor: pointer;
        }

        /* --- SIDEBAR (PIXEL PERFECT RECONSTRUCTION) --- */
        .sidebar-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 200; opacity: 0; visibility: hidden; transition: 0.25s; }
        .sidebar-overlay.active { opacity: 1; visibility: visible; }

        .sidebar {
            position: fixed; top: 0; bottom: 0; left: 0; width: 300px;
            background: var(--sidebar-bg); z-index: 250; transform: translateX(-100%);
            transition: transform 0.28s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex; flex-direction: column; border-radius: 0 16px 16px 0;
            padding-top: env(safe-area-inset-top);
        }
        .sidebar.open { transform: translateX(0); }

        .sidebar-header { padding: 18px 24px; display: flex; align-items: center; gap: 14px; border-bottom: 0.5px solid transparent; }
        .sidebar-logo { height: 24px; width: auto; }
        .sidebar-logo-text { font-size: 22px; color: #5f6368; font-weight: 400; }

        .nav-list { overflow-y: auto; padding: 8px 12px 12px 0; }
        
        .nav-item {
            height: 48px; display: flex; align-items: center; padding: 0 16px 0 24px; gap: 18px;
            border-radius: 0 24px 24px 0; cursor: pointer; color: var(--text-secondary); margin-bottom: 2px;
        }

        /* All Inboxes - Active State from your screenshot */
        .nav-item.active { background: var(--active-pill-bg); color: var(--gmail-red); font-weight: 500; }
        .nav-item.active .icon-svg { fill: var(--gmail-red); }
        .icon-svg { width: 22px; height: 22px; fill: var(--icon-gray); }

        .nav-text { flex: 1; font-size: 14px; letter-spacing: 0.2px; }
        .nav-badge { font-size: 12px; font-weight: 400; }
        .divider { height: 1px; background: #e0e2e0; margin: 8px 0 8px 24px; }

        /* --- NI OVERVIEW (EXACT UI) --- */
        .ni-banner { margin: 8px 16px; border-radius: 16px; padding: 16px; background: var(--ai-banner-bg); cursor: pointer; }
        .ni-header { display: flex; align-items: center; }
        .ni-sparkle { width: 20px; height: 20px; margin-right: 12px; }
        .ni-title { font-size: 15px; color: #1f1f1f; font-weight: 500; flex: 1; }
        .ni-chevron { width: 18px; height: 18px; fill: #5f6368; transition: 0.2s; }
        .ni-content { font-size: 14px; line-height: 1.5; color: #1f1f1f; margin-top: 12px; display: none; }
        .expanded .ni-content { display: block; }
        .expanded .ni-chevron { transform: rotate(180deg); }

        /* --- EMAIL LIST --- */
        .email-list {
            flex: 1;
            overflow-y: auto;
        }

        .email-item {
            padding: 16px;
            border-bottom: 1px solid #e0e0e0;
            cursor: pointer;
            transition: background 0.2s;
        }

        .email-item:hover {
            background: #f8f9fa;
        }

        .email-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .email-sender {
            flex: 1;
            font-weight: 500;
            font-size: 14px;
            color: var(--text-primary);
        }

        .email-time {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .email-subject {
            font-size: 14px;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .email-snippet {
            font-size: 13px;
            color: var(--text-secondary);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* --- PURCHASE DETAIL VIEW --- */
        .purchase-detail {
            display: none;
            flex-direction: column;
            height: 100%;
            overflow-y: auto;
            padding: 16px;
        }

        .purchase-detail.active {
            display: flex;
        }

        .back-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e0e0e0;
        }

        .back-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 50%;
            margin-right: 8px;
        }

        .back-btn:hover {
            background: #f1f1f1;
        }

        .purchase-title {
            font-size: 20px;
            font-weight: 400;
            color: var(--text-primary);
        }

        .purchase-card {
            background: linear-gradient(135deg, #ffeef8 0%, #ffe8f5 100%);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(255, 182, 223, 0.3);
        }

        .purchase-header-card {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .purchase-icon-large {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        .purchase-icon-large svg {
            width: 32px;
            height: 32px;
            fill: #ff69b4;
        }

        .purchase-info {
            flex: 1;
        }

        .purchase-product {
            font-size: 18px;
            font-weight: 500;
            color: #d63384;
            margin-bottom: 4px;
        }

        .purchase-vendor {
            font-size: 14px;
            color: #6c757d;
        }

        .order-status {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .order-status-title {
            font-size: 24px;
            font-weight: 400;
            color: #d63384;
            margin-bottom: 12px;
        }

        .order-detail-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .order-detail-row:last-child {
            border-bottom: none;
        }

        .order-label {
            font-size: 14px;
            color: #6c757d;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .order-value {
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
        }

        .view-order-btn {
            width: 100%;
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            border: none;
            border-radius: 24px;
            padding: 14px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 16px;
            box-shadow: 0 4px 12px rgba(255, 20, 147, 0.3);
        }

        .cute-message {
            background: #fff3f8;
            border-left: 4px solid #ff69b4;
            padding: 16px;
            border-radius: 12px;
            margin-top: 20px;
            font-size: 14px;
            color: #d63384;
            font-style: italic;
            line-height: 1.6;
        }

        /* --- PROFILE DROPDOWN --- */
        .profile-dropdown {
            position: absolute;
            top: 60px;
            right: 16px;
            width: 280px;
            background: #e9eef6;
            border-radius: 24px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
            padding: 28px 20px;
            z-index: 150;
            display: none;
            text-align: center;
        }
        .profile-dropdown.active { display: block; }
        
        .profile-email {
            font-size: 14px;
            color: #1f1f1f;
            margin-bottom: 20px;
        }
        
        .profile-ring-box {
            width: 80px;
            height: 80px;
            margin: 0 auto 16px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .profile-ring {
            position: absolute;
            inset: 0;
            border-radius: 50%;
            padding: 3px;
            background: conic-gradient(#4285f4 0 25%, #ea4335 25% 50%, #fbbc05 50% 75%, #34a853 75% 100%);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
        }
        
        .profile-pfp-inner {
            width: 72px;
            height: 72px;
            border-radius: 50%;
            background: #1a73e8;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 500;
        }
        
        .profile-hi {
            font-size: 24px;
            font-weight: 400;
            color: #1f1f1f;
        }

        .view-hidden {
            display: none;
        }

        .view-visible {
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>

    <div class="app-shell">
        <div class="sidebar-overlay" id="overlay"></div>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" alt="Gmail" class="sidebar-logo">
                <span class="sidebar-logo-text">Gmail</span>
            </div>
            
            <div class="nav-list">
                <div class="nav-item active" onclick="switchView('inbox')">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M20 6H4l8 4.99zM4 8v10h16V8l-8 5z"/>
                    </svg>
                    <span class="nav-text">All inboxes</span>
                    <span class="nav-badge">1</span>
                </div>
                <div class="divider"></div>
                <div class="nav-item" onclick="switchView('inbox')">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10z"/></svg>
                    <span class="nav-text">Primary</span>
                    <span class="nav-badge">1</span>
                </div>
                <div class="nav-item" onclick="switchView('inbox')">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"/></svg>
                    <span class="nav-text">Social</span>
                </div>
                <div class="nav-item" onclick="switchView('inbox')">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7z"/></svg>
                    <span class="nav-text">Promotions</span>
                </div>
                <div class="nav-item" onclick="switchView('inbox')">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
                    <span class="nav-text">Updates</span>
                </div>
                <div class="divider"></div>
                <div class="nav-item" onclick="switchView('inbox')"><svg class="icon-svg" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg><span class="nav-text">Starred</span></div>
                <div class="nav-item" onclick="switchView('inbox')">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
                    <span class="nav-text">Snoozed</span>
                </div>
                <div class="nav-item" onclick="switchView('inbox')"><svg class="icon-svg" viewBox="0 0 24 24"><path d="M21 12l-4.37 6.16c-.37.52-.98.84-1.63.84h-10c-1.1 0-2-.9-2-2V7c0-1.1.9-2 2-2h10c.65 0 1.26.31 1.63.84L21 12z"/></svg><span class="nav-text">Important</span><span class="nav-badge">1</span></div>
                <div class="divider"></div>
                <div class="nav-item" onclick="switchView('purchases'); closeSidebar();">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h12v12z"/>
                    </svg>
                    <span class="nav-text">Purchases</span>
                </div>
                <div class="nav-item" onclick="switchView('inbox')">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"/>
                    </svg>
                    <span class="nav-text">Spam</span>
                </div>
                <div class="nav-item" onclick="switchView('inbox')"><svg class="icon-svg" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg><span class="nav-text">Bin</span></div>
            </div>
        </aside>

        <!-- Search Header -->
        <header class="header">
            <div class="search-container">
                <div class="menu-icon" id="openMenu">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
                </div>
                <div class="search-text">Search in mail</div>
                <div class="pfp-btn" id="openProfile">N</div>
            </div>
            
            <!-- Profile Dropdown -->
            <div class="profile-dropdown" id="profileDropdown">
                <p class="profile-email">niv@futurehusband.com</p>
                <div class="profile-ring-box">
                    <div class="profile-ring"></div>
                    <div class="profile-pfp-inner">N</div>
                </div>
                <h1 class="profile-hi">Hi, Niv!</h1>
            </div>
        </header>

        <!-- Content -->
        <main style="flex: 1; overflow-y: auto;">
            <!-- Inbox View -->
            <div id="inboxView" class="view-visible">
                <div class="ni-banner" id="niBanner">
                    <div class="ni-header">
                        <svg class="ni-sparkle" viewBox="0 0 24 24" fill="url(#sparkleGradient)">
                            <defs>
                                <linearGradient id="sparkleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#4285f4;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#ea4335;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#fbbc05;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <path d="M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z"/>
                            <path d="M19 3L19.5 4.5L21 5L19.5 5.5L19 7L18.5 5.5L17 5L18.5 4.5L19 3Z"/>
                        </svg>
                        <span class="ni-title">Gemini</span>
                        <svg class="ni-chevron" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>
                    </div>
                    <div class="ni-content">
                        You are logged in as Niv, <strong>niv@futurehusband.com</strong>. These are romantic updates released by your boyfriend. Explore by category, contribute to the starred list, search, or visit your heart.
                    </div>
                </div>
            </div>

            <!-- Purchases Email List View -->
            <div id="purchasesView" class="view-hidden">
                <div class="email-list">
                    <div class="email-item" onclick="showPurchaseDetail('order1')">
                        <div class="email-header">
                            <span class="email-sender">The Affection Warehouse</span>
                            <span class="email-time">Feb 14</span>
                        </div>
                        <div class="email-subject">Your order of 10,000 compliments has shipped</div>
                        <div class="email-snippet">Order 2083-HEART • Delivery: Every time you breathe</div>
                    </div>
                    <div class="email-item" onclick="showPurchaseDetail('order2')">
                        <div class="email-header">
                            <span class="email-sender">Eternal Devotion Inc.</span>
                            <span class="email-time">Feb 13</span>
                        </div>
                        <div class="email-subject">Lifetime subscription to being called beautiful renewed</div>
                        <div class="email-snippet">Order DHOKLU-FOREVER • Auto-renews: Until the end of time</div>
                    </div>
                    <div class="email-item" onclick="showPurchaseDetail('order3')">
                        <div class="email-header">
                            <span class="email-sender">Distance Obliteration Services</span>
                            <span class="email-time">Feb 12</span>
                        </div>
                        <div class="email-subject">2083 kilometers converted to 0 kilometers processing</div>
                        <div class="email-snippet">Order SOON-2026 • Estimated completion: When planes exist</div>
                    </div>
                    <div class="email-item" onclick="showPurchaseDetail('order4')">
                        <div class="email-header">
                            <span class="email-sender">Forehead Kiss Logistics</span>
                            <span class="email-time">Feb 11</span>
                        </div>
                        <div class="email-subject">Bulk order of 47 million forehead kisses confirmed</div>
                        <div class="email-snippet">Order MOLE-CENTER • Reserved for your forehead mole exclusively</div>
                    </div>
                </div>
            </div>

            <!-- Purchase Detail View -->
            <div id="purchaseDetailView" class="purchase-detail">
                <div class="back-header">
                    <div class="back-btn" onclick="backToPurchases()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                        </svg>
                    </div>
                    <span class="purchase-title" id="detailTitle">Your order</span>
                </div>

                <div class="purchase-card">
                    <div class="purchase-header-card">
                        <div class="purchase-icon-large">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>
                        </div>
                        <div class="purchase-info">
                            <div class="purchase-product" id="detailProduct">Loading...</div>
                            <div class="purchase-vendor" id="detailVendor">From your future husband</div>
                        </div>
                    </div>

                    <div class="order-status">
                        <div class="order-status-title">Order Placed</div>
                        
                        <div class="order-detail-row">
                            <span class="order-label">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                                </svg>
                                Order Number
                            </span>
                            <span class="order-value" id="detailOrderNum">Loading...</span>
                        </div>

                        <div class="order-detail-row">
                            <span class="order-label">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                </svg>
                                Delivery
                            </span>
                            <span class="order-value" id="detailDelivery">Loading...</span>
                        </div>

                        <div class="order-detail-row">
                            <span class="order-label">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                                Status
                            </span>
                            <span class="order-value" id="detailStatus">Loading...</span>
                        </div>
                    </div>

                    <button class="view-order-btn" onclick="alert('This order exists in a dimension where distance means nothing and love means everything.')">
                        View Full Order
                    </button>
                </div>

                <div class="cute-message" id="detailMessage">
                    Loading your personalized message...
                </div>
            </div>
        </main>
    </div>

    <script>
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const niBanner = document.getElementById('niBanner');
        const profileDropdown = document.getElementById('profileDropdown');

        const orderDetails = {
            order1: {
                title: 'Your order from The Affection Warehouse',
                product: '10,000 Daily Compliments Package',
                vendor: 'The Affection Warehouse',
                orderNum: '2083-HEART-001',
                delivery: 'Every time you breathe',
                status: 'Perpetually in transit',
                message: 'This package contains ten thousand unique ways to tell you that you are extraordinary. Each compliment has been carefully curated over 2083 kilometers of missing you. Delivery happens automatically whenever you exist, which is constantly, so you will be receiving these at an overwhelming rate. Side effects may include blushing, smiling for no reason, and the realization that someone 2083 kilometers away thinks about you more than is probably reasonable. Your boyfriend may have a problem. That problem is being completely obsessed with you.'
            },
            order2: {
                title: 'Your order from Eternal Devotion Inc.',
                product: 'Lifetime "You Are Beautiful" Subscription',
                vendor: 'Eternal Devotion Inc.',
                orderNum: 'DHOKLU-FOREVER',
                delivery: 'Continuous streaming service',
                status: 'Auto-renews eternally',
                message: 'Congratulations on your lifetime subscription to being reminded that you are beautiful. This is not a limited-time offer. This subscription began the moment I saw you and will continue until the heat death of the universe, at which point it will probably still continue because cosmic entropy has nothing on my commitment to telling you how stunning you are. Included in this package: morning beautiful, afternoon beautiful, evening beautiful, 3am beautiful, just-woke-up beautiful, no-makeup beautiful, exists-in-my-general-vicinity beautiful. No cancellation policy exists because why would anyone ever want to cancel this.'
            },
            order3: {
                title: 'Your order from Distance Obliteration Services',
                product: '2083km to 0km Conversion Kit',
                vendor: 'Distance Obliteration Services',
                orderNum: 'SOON-2026',
                delivery: 'Processing',
                status: 'Awaiting plane tickets',
                message: 'Your order to eliminate 2083 kilometers of absolutely ridiculous distance is currently being processed. This sophisticated conversion will transform the current state of "missing you terribly" into "actually holding you" through advanced transportation technology and sheer determination. Estimated completion date: as soon as humanly possible. This order includes: one reunion hug that lasts an unreasonable amount of time, immediate forehead kisses, hand holding that will not stop, and the permanent deletion of the phrase "I wish you were here" from our vocabulary. Please note: once this order is fulfilled, the customer may never leave.'
            },
            order4: {
                title: 'Your order from Forehead Kiss Logistics',
                product: '47 Million Forehead Kisses',
                vendor: 'Forehead Kiss Logistics',
                orderNum: 'MOLE-CENTER-47M',
                delivery: 'Reserved for in-person delivery',
                status: 'Awaiting proximity',
                message: 'You have successfully placed an order for forty-seven million forehead kisses, with special concentration on the mole that has somehow become the center of my entire universe. This is a bulk order that can only be fulfilled in person, so we appreciate your patience as we work through the minor logistical challenge of being 2083 kilometers apart. Each kiss has been pre-approved for maximum softness and comes with a complimentary "you are so beautiful" whispered immediately after. Please allow 0-2083 kilometers for delivery. Expedited shipping is highly desired but dependent on flight availability and my ability to not lose my mind from missing you.'
            }
        };

        // Sidebar
        document.getElementById('openMenu').onclick = () => { 
            sidebar.classList.add('open'); 
            overlay.classList.add('active'); 
            profileDropdown.classList.remove('active');
        };
        
        overlay.onclick = () => { 
            sidebar.classList.remove('open'); 
            overlay.classList.remove('active'); 
        };

        function closeSidebar() {
            sidebar.classList.remove('open');
            overlay.classList.remove('active');
        }

        // Banner
        niBanner.onclick = () => niBanner.classList.toggle('expanded');

        // Profile Dropdown
        document.getElementById('openProfile').onclick = (e) => {
            e.stopPropagation();
            profileDropdown.classList.toggle('active');
        };
        
        // Close profile dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!profileDropdown.contains(e.target) && !document.getElementById('openProfile').contains(e.target)) {
                profileDropdown.classList.remove('active');
            }
        });

        // View Switching
        function switchView(view) {
            const inboxView = document.getElementById('inboxView');
            const purchasesView = document.getElementById('purchasesView');
            const purchaseDetailView = document.getElementById('purchaseDetailView');

            if (view === 'inbox') {
                inboxView.classList.remove('view-hidden');
                inboxView.classList.add('view-visible');
                purchasesView.classList.remove('view-visible');
                purchasesView.classList.add('view-hidden');
                purchaseDetailView.classList.remove('active');
            } else if (view === 'purchases') {
                inboxView.classList.remove('view-visible');
                inboxView.classList.add('view-hidden');
                purchasesView.classList.remove('view-hidden');
                purchasesView.classList.add('view-visible');
                purchaseDetailView.classList.remove('active');
            }
        }

        function showPurchaseDetail(orderId) {
            const order = orderDetails[orderId];
            
            document.getElementById('detailTitle').textContent = order.title;
            document.getElementById('detailProduct').textContent = order.product;
            document.getElementById('detailVendor').textContent = order.vendor;
            document.getElementById('detailOrderNum').textContent = order.orderNum;
            document.getElementById('detailDelivery').textContent = order.delivery;
            document.getElementById('detailStatus').textContent = order.status;
            document.getElementById('detailMessage').textContent = order.message;
            
            document.getElementById('purchasesView').classList.add('view-hidden');
            document.getElementById('purchaseDetailView').classList.add('active');
        }

        function backToPurchases() {
            document.getElementById('purchaseDetailView').classList.remove('active');
            document.getElementById('purchasesView').classList.remove('view-hidden');
        }
    </script>
</body>
</html>
