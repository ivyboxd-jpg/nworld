<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Gmail Mobile</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gmail-red: #d93025;
            --text-primary: #202124;
            --text-secondary: #5f6368;
            --google-blue: #1a73e8;
            --ai-bg: #f0f4f9;
            --border: #e0e2e0;
            --g-blue: #4285f4; --g-red: #ea4335; --g-yellow: #fbbc05; --g-green: #34a853;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
        html, body { width: 100%; height: 100%; overflow: hidden; background: #fff; font-family: 'Roboto', -apple-system, sans-serif; letter-spacing: 0.2px; }
        .app-shell { width: 100%; height: 100%; display: flex; flex-direction: column; position: relative; }

        /* --- HEADER --- */
        .header { padding: 8px 16px; background: #fff; z-index: 100; position: relative; }
        .search-container {
            height: 48px; background: #fff; border-radius: 24px;
            display: flex; align-items: center; padding: 0 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
        }
        .search-input { flex: 1; border: none; outline: none; font-size: 16px; color: var(--text-primary); padding-left: 8px; }
        .pfp-btn { width: 32px; height: 32px; background: var(--google-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 500; font-size: 14px; margin-right: 4px; cursor: pointer; }

        /* --- SIDEBAR --- */
        .sidebar-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 200; opacity: 0; visibility: hidden; transition: 0.25s; }
        .sidebar-overlay.active { opacity: 1; visibility: visible; }
        .sidebar { position: fixed; top: 0; bottom: 0; left: 0; width: 285px; background: #fff; z-index: 250; transform: translateX(-100%); transition: transform 0.28s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; border-radius: 0 16px 16px 0; padding-top: env(safe-area-inset-top); }
        .sidebar.open { transform: translateX(0); }
        .sidebar-header { padding: 18px 24px; display: flex; align-items: center; gap: 14px; }
        .sidebar-logo { height: 24px; width: auto; }
        .sidebar-logo-text { font-size: 22px; color: #5f6368; font-weight: 400; }

        .nav-list { overflow-y: auto; padding: 8px 12px 12px 0; }
        .nav-item { height: 48px; display: flex; align-items: center; padding: 0 16px 0 24px; gap: 18px; border-radius: 0 24px 24px 0; cursor: pointer; color: var(--text-secondary); margin-bottom: 2px; }
        
        /* SIDEBAR ACTIVE COLORS */
        .nav-item.all-inboxes.active { background: #fce8e6; color: #d93025; }
        .nav-item.primary.active { background: #e8f0fe; color: #1a73e8; }
        .nav-item.social.active { background: #e2f2f1; color: #00695c; }
        .nav-item.promotions.active { background: #e6f4ea; color: #137333; }
        .nav-item.updates.active { background: #70584b; color: #fce8e6; }
        .nav-item.purchases.active { background: #f1f3f4; color: #202124; }

        .icon-svg { width: 22px; height: 22px; fill: var(--text-secondary); }
        .nav-item.active .icon-svg { fill: currentColor; }
        .divider { height: 1px; background: #e0e2e0; margin: 8px 0 8px 24px; opacity: 0.5; }

        /* --- CONTENT --- */
        .main-content { flex: 1; overflow-y: auto; background: white; }
        .view-title { padding: 16px 16px 8px 16px; font-size: 12px; font-weight: 500; color: #5f6368; text-transform: uppercase; }

        .ni-banner { margin: 8px 16px; border-radius: 16px; padding: 16px; background: var(--ai-bg); cursor: pointer; display: none; }
        .ni-header { display: flex; align-items: center; }
        .ni-sparkle { width: 20px; height: 20px; margin-right: 12px; }
        .ni-title { font-size: 15px; font-weight: 500; flex: 1; color: var(--google-blue); }
        .ni-content { font-size: 14px; color: #1f1f1f; margin-top: 10px; display: none; line-height: 1.5; }
        .expanded .ni-content { display: block; }

        /* --- EMAIL LIST --- */
        .email-item { padding: 12px 16px; border-bottom: 0.5px solid #f1f3f4; cursor: pointer; display: flex; gap: 16px; }
        .email-pfp { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; color: white; flex-shrink: 0; }
        .email-content-col { flex: 1; min-width: 0; }
        .email-top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2px; }
        .email-sender-name { font-size: 14px; font-weight: 700; }
        .email-date { font-size: 12px; color: var(--text-secondary); }
        .email-subject-line { font-size: 14px; font-weight: 400; color: #202124; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .order-row { display: flex; align-items: center; gap: 6px; margin-top: 2px; }
        .order-icon { width: 16px; height: 16px; fill: #5f6368; }
        .inbox-tag-small { border: 1px solid #dadce0; color: #5f6368; font-size: 11px; padding: 1px 4px; border-radius: 4px; margin-right: 8px; }
        .star-ico { width: 22px; height: 22px; fill: none; stroke: #5f6368; stroke-width: 2; cursor: pointer; }
        .star-ico.starred { fill: #fbbc05; stroke: #fbbc05; }

        /* --- MESSAGE VIEW --- */
        #msgView { display: none; background: white; height: 100%; position: absolute; inset: 0; z-index: 120; overflow-y: auto; flex-direction: column; padding: 16px; }
        #msgView.active { display: flex; }
        
        .subject-container { display: flex; align-items: center; gap: 10px; margin: 10px 0 20px 0; }
        .subject-h2 { font-size: 22px; font-weight: 400; color: #202124; line-height: 1.2; }
        .inbox-label-full { border: 1px solid #dadce0; color: #5f6368; font-size: 12px; padding: 2px 6px; border-radius: 4px; font-weight: 400; }
        
        /* ARTISTIC CONTENT */
        .artistic-header { width: 100%; height: 120px; background: #f8f9fa; border-radius: 8px; margin-bottom: 24px; display: flex; flex-direction: column; align-items: center; justify-content: center; border: 1px solid #eee; overflow: hidden; }
        .art-title { font-family: 'Times New Roman', serif; font-size: 24px; font-style: italic; color: #1a1a1a; }
        .art-subtitle { font-size: 10px; text-transform: uppercase; letter-spacing: 2px; color: #5f6368; margin-top: 5px; }

        .msg-body-text { font-size: 16px; color: #3c4043; line-height: 1.6; white-space: pre-line; padding: 0 4px; }

        /* INVOICE CARD (WHITE) */
        .invoice-card-white { background: #ffffff; border: 1px solid #dadce0; border-radius: 12px; padding: 24px; color: #202124; margin-top: 20px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
        .inv-placed-title { font-size: 30px; font-weight: 400; margin-bottom: 16px; }
        .inv-meta { display: flex; gap: 10px; color: #5f6368; font-size: 13px; margin-bottom: 20px; }
        .inv-btn { background: #1a73e8; color: white; border: none; padding: 12px 24px; border-radius: 24px; font-weight: 500; cursor: pointer; }

        /* PROFILE MODAL (RESTORED) */
        .profile-dropdown { position: absolute; top: 60px; right: 16px; width: 312px; background: #e9eef6; border-radius: 28px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 32px 20px; z-index: 150; display: none; text-align: center; }
        .profile-dropdown.active { display: block; }
        .modal-email { font-size: 15px; color: #1f1f1f; margin-bottom: 24px; }
        .ring-box { width: 88px; height: 88px; margin: 0 auto 20px; position: relative; display: flex; align-items: center; justify-content: center; }
        .pfp-ring { position: absolute; inset: 0; border-radius: 50%; padding: 3.5px; background: conic-gradient(var(--g-blue) 0% 25%, var(--g-red) 25% 50%, var(--g-yellow) 50% 75%, var(--g-green) 75% 100%); -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); -webkit-mask-composite: xor; mask-composite: exclude; }
        .pfp-inner { width: 74px; height: 74px; border-radius: 50%; background: var(--g-blue); color: white; display: flex; align-items: center; justify-content: center; font-size: 30px; font-weight: 500; }
        .modal-hi { font-size: 28px; font-weight: 400; color: #1f1f1f; margin: 0; }
    </style>
</head>
<body>

    <div class="app-shell">
        <div class="sidebar-overlay" id="overlay"></div>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" alt="Gmail" class="sidebar-logo">
                <span class="sidebar-logo-text">Gmail</span>
            </div>
            <div class="nav-list">
                <div class="nav-item all-inboxes active" onclick="ui.switchView('all-inboxes', this)">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M19 15v3H5v-3h14m1-2H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1zm-1-8l-7 5-7-5V5l7 5 7-5v2z"/></svg>
                    <span class="nav-text">All inboxes</span>
                </div>
                <div class="divider"></div>
                <div class="nav-item primary" onclick="ui.switchView('primary', this)">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10z"/></svg>
                    <span class="nav-text">Primary</span>
                </div>
                <div class="nav-item social" onclick="ui.switchView('social', this)">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                    <span class="nav-text">Social</span>
                </div>
                <div class="nav-item promotions" onclick="ui.switchView('promotions', this)">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"/></svg>
                    <span class="nav-text">Promotions</span>
                </div>
                <div class="nav-item updates" onclick="ui.switchView('updates', this)">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
                    <span class="nav-text">Updates</span>
                </div>
                <div class="divider"></div>
                <div class="nav-item purchases" onclick="ui.switchView('purchases', this)">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"/></svg>
                    <span class="nav-text">Purchases</span>
                </div>
                <div class="nav-item spam" onclick="ui.switchView('inbox', this)">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"/></svg>
                    <span class="nav-text">Spam</span>
                </div>
                <div class="nav-item bin" onclick="ui.switchView('inbox', this)">
                    <svg class="icon-svg" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
                    <span class="nav-text">Bin</span>
                </div>
            </div>
        </aside>

        <!-- Header -->
        <header class="header">
            <div class="search-container">
                <div class="icon-btn" onclick="ui.toggleSidebar(true)"><svg viewBox="0 0 24 24" fill="#5f6368" width="24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></div>
                <input type="text" class="search-input" placeholder="Search in mail" oninput="ui.filter(this.value)">
                <div class="pfp-btn" onclick="ui.toggleProfile(event)">N</div>
            </div>
            <!-- RESTORED PROFILE MODAL -->
            <div class="profile-dropdown" id="profileDropdown">
                <p class="modal-email">niv@futurehusband.com</p>
                <div class="ring-box"><div class="pfp-ring"></div><div class="pfp-inner">N</div></div>
                <h1 class="modal-hi">Hi, Niv!</h1>
            </div>
        </header>

        <main class="main-content">
            <div class="view-title" id="viewTitle">All inboxes</div>

            <!-- Gemini (Only in All inboxes) -->
            <div class="ni-banner" id="geminiBanner" onclick="this.classList.toggle('expanded')">
                <div class="ni-header">
                    <svg class="ni-sparkle" viewBox="0 0 24 24"><defs><linearGradient id="g-grad"><stop offset="0%" stop-color="#4285f4"/><stop offset="100%" stop-color="#ea4335"/></linearGradient></defs><path fill="url(#g-grad)" d="M12 2L14.85 9.15L22 12L14.85 14.85L12 22L9.15 14.85L2 12L9.15 9.15L12 2Z M19 3L19.7 4.7L21.4 5.4L19.7 6.1L19 7.8L18.3 6.1L16.6 5.4L18.3 4.7L19 3Z"/></svg>
                    <span class="ni-title">Gemini Overview</span>
                    <svg width="18" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </div>
                <div class="ni-content">You are logged in as Niv, <strong>niv@futurehusband.com</strong>. These are romantic updates released by your boyfriend. Explore by category, contribute to the starred list, search, or visit your heart.</div>
            </div>

            <div id="emailContainer"></div>

            <!-- Message Detail View -->
            <div id="msgView">
                <div style="display:flex; padding-bottom:12px; margin-bottom:16px;">
                    <svg onclick="ui.backToList()" width="24" viewBox="0 0 24 24" style="cursor:pointer"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <div id="msgContent">
                    <div class="subject-container">
                        <h2 class="subject-h2" id="mSub">Subject Line</h2>
                        <span class="inbox-label-full">Inbox</span>
                    </div>
                    <div style="display:flex; align-items:center; gap:12px; margin-bottom:24px;">
                        <div id="mCircle" style="width:40px; height:40px; border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-weight:700;"></div>
                        <div style="flex:1">
                            <div style="font-weight:700; font-size:14px;" id="mSender">Sender</div>
                            <div style="font-size:12px; color:#5f6368;">to my.queen@forever.com <svg width="10" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg></div>
                        </div>
                        <div style="font-size:12px; color:#5f6368;">4:34 PM</div>
                    </div>
                    
                    <div id="artisticHeader" class="artistic-header">
                        <span class="art-title" id="artTitle">The Weekly Devotion</span>
                        <span class="art-subtitle" id="artSub">EST. 2026 • ALWAYS FOR YOU</span>
                    </div>

                    <div id="textBody" class="msg-body-text"></div>

                    <div id="invoiceCard" class="invoice-card-white" style="display:none">
                        <div style="display:flex; justify-content:space-between">
                            <div>
                                <div style="font-weight:700;" id="cProd">Product</div>
                                <div style="font-size:13px; color:#5f6368; margin-top:2px;">1 item from Provider</div>
                            </div>
                            <div style="width:44px; height:44px; background:#f1f3f4; border-radius:8px; display:flex; align-items:center; justify-content:center">❤️</div>
                        </div>
                        <div class="inv-placed-title">Order placed</div>
                        <div class="inv-meta">
                            <span style="font-size:20px; color:#1a73e8">#</span>
                            <div>
                                <div style="font-weight:700;">Order number</div>
                                <div id="cNum">3-000-000</div>
                            </div>
                        </div>
                        <button class="inv-btn" onclick="alert('Verification complete: Order status is Forever Yours.')">View order</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const database = {
            'all-inboxes': [
                { type: 'purchase', sender: 'Apple', initial: 'A', bg: '#000', subject: 'Your invoice from Apple.', prod: 'YouTube Music Subscription', num: '3-609046649', art: 'APPLE SERVICES', body: 'Your music is ready for our next car ride.' },
                { type: 'email', sender: 'Husband HR', initial: 'H', bg: '#4285f4', subject: 'Offer Letter: Senior Cuddling Officer', art: 'RESOURCES DEPT', body: 'We are thrilled to extend an offer for the position of Head of Handholding.\n\nYour compensation includes unlimited kisses and priority access to my sweater collection.' }
            ],
            'primary': [
                { type: 'email', sender: 'The Devoted Daily', initial: 'D', bg: '#ea4335', subject: 'Newsletter: 7 Reasons Why You are Perfect', art: 'OP-ED PIECE', body: 'Reason #1: The way you tilt your head when you are confused.\nReason #2: You always pick the best movies.\nReason #3: You exist.\n\nFull article inside your heart.' },
                { type: 'email', sender: 'System Administrator', initial: 'S', bg: '#fbbc05', subject: 'URGENT: Storage Full of Your Voice Notes', art: 'TECH BULLETIN', body: 'Warning: 60% of device storage is currently occupied by your "Good morning" voice notes.\n\nAction required: Send more. We will delete all other apps to make space.' },
                { type: 'email', sender: 'Fridge Logistics', initial: 'F', bg: '#34a853', subject: 'Shared Grocery List Update', art: 'SUPPLY CHAIN', body: 'Item 1: Your favorite snacks.\nItem 2: Ingredients for the dinner I am going to cook for you.\nItem 3: 2083km of patience.\n\nUpdated by: Niv.' },
                { type: 'email', sender: 'Love Policy Dept', initial: 'L', bg: '#607d8b', subject: 'Updated Policy: Forehead Kisses', art: 'BYLAWS 2026', body: 'Per the new regulation, the frequency of forehead kisses is being increased by 400%.\n\nThis policy is non-negotiable and effective immediately upon reunion.' },
                { type: 'email', sender: 'Future Planning', initial: 'P', bg: '#1a73e8', subject: 'Reservation Confirmed: Forever with you', art: 'BOOKING OFFICE', body: 'Your reservation for "The rest of our lives" has been confirmed.\n\nNo deposit required. Payment accepted in the form of smiles.' }
            ],
            'purchases': [
                { type: 'purchase', sender: 'Logistics of Love', initial: 'L', bg: '#ff69b4', subject: 'Order Confirmation: 10,000 I Miss You\'s', prod: 'Emotional Support Unit', num: 'IMY-2026-X', art: 'SHIPPING DEPT', body: 'Bulk order of missing you is currently in transit.' }
            ]
        };

        const ui = {
            toggleSidebar(o) { document.getElementById('sidebar').classList.toggle('open', o); document.getElementById('overlay').classList.toggle('active', o); },
            toggleProfile(e) { e.stopPropagation(); document.getElementById('profileDropdown').classList.toggle('active'); },
            switchView(view, el) {
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                el.classList.add('active');
                document.getElementById('viewTitle').innerText = view.replace('-', ' ');
                document.getElementById('geminiBanner').style.display = view === 'all-inboxes' ? 'block' : 'none';
                document.getElementById('msgView').classList.remove('active');
                this.render(view); this.toggleSidebar(false);
            },
            render(view) {
                const container = document.getElementById('emailContainer');
                container.innerHTML = '';
                (database[view] || database['primary']).forEach((e, i) => {
                    const rowContent = e.type === 'purchase' ? 
                        `<div class="order-row"><svg class="order-icon" viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg><span class="order-text">Order placed</span><span class="inbox-tag-small">Inbox</span><svg class="star-ico" onclick="ui.star(event, this)" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg></div>` :
                        `<div class="order-row"><span class="email-snippet" style="flex:1">${e.body.substring(0, 50)}...</span><span class="inbox-tag-small">Inbox</span><svg class="star-ico" onclick="ui.star(event, this)" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg></div>`;
                    
                    container.innerHTML += `
                        <div class="email-item" onclick="ui.openMsg('${view}', ${i})">
                            <div class="email-pfp" style="background:${e.bg}">${e.initial}</div>
                            <div class="email-content-col">
                                <div class="email-top-row"><span class="email-sender-name">${e.sender}</span><span class="email-date">Feb 12</span></div>
                                <div class="email-subject-line">${e.subject}</div>
                                ${rowContent}
                            </div>
                        </div>`;
                });
            },
            openMsg(view, i) {
                const e = database[view][i];
                document.getElementById('mSub').innerText = e.subject;
                document.getElementById('mSender').innerText = e.sender;
                document.getElementById('mCircle').innerText = e.initial;
                document.getElementById('mCircle').style.background = e.bg;
                document.getElementById('artTitle').innerText = e.sender;
                document.getElementById('artSub').innerText = e.art;
                
                if(e.type === 'purchase') {
                    document.getElementById('textBody').style.display = 'none';
                    document.getElementById('invoiceCard').style.display = 'block';
                    document.getElementById('cProd').innerText = e.prod;
                    document.getElementById('cNum').innerText = e.num;
                } else {
                    document.getElementById('textBody').style.display = 'block';
                    document.getElementById('invoiceCard').style.display = 'none';
                    document.getElementById('textBody').innerText = e.body;
                }
                document.getElementById('msgView').classList.add('active');
            },
            backToList() { document.getElementById('msgView').classList.remove('active'); },
            star(e, el) { e.stopPropagation(); el.classList.toggle('starred'); },
            filter(q) {
                document.querySelectorAll('.email-item').forEach(item => item.style.display = item.innerText.toLowerCase().includes(q.toLowerCase()) ? 'flex' : 'none');
            }
        };

        document.getElementById('overlay').onclick = () => ui.toggleSidebar(false);
        document.addEventListener('click', () => document.getElementById('profileDropdown').classList.remove('active'));
        ui.render('all-inboxes');
        document.getElementById('geminiBanner').style.display = 'block';
    </script>
</body>
</html>